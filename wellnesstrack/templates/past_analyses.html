{% extends 'base.html' %}
{% block title %}Tracker History{% endblock %}

{% block content %}
<nav>
    <a href="{% url 'wellnesstrack:bmi_form' %}"><i class="fas fa-spoon"></i> BMI Tracker</a>
    <a href="{% url 'wellnesstrack:mood_form' %}"><i class="fas fa-smile"></i> Mood Tracker</a>
    <a href="{% url 'wellnesstrack:sleep_form' %}"><i class="fas fa-bed"></i> Sleep Tracker</a>
    <a href="{% url 'wellnesstrack:past_analyses' %}"><i class="fas fa-history"></i> View Past Analyses</a>        
</nav>
<br>
<h2>BMI History</h2>
<table class="table">
  <thead>
    <tr>
      <th>User</th>
      <th>Current BMI</th>
      <th>Category</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% for bmi in bmi_records %}
    <tr>
      <td>{{ bmi.user }}</td>
      <td>{{ bmi.current_bmi }}</td>
      <td>{{ bmi.category }}</td>
      <td>{{ bmi.created_on|date:"M d, Y H:i" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No BMI records found.</td></tr>
    {% endfor %}
  </tbody>
</table>

<h2>Mood History</h2>
<table class="table">
  <thead>
    <tr>
      <th>User</th>
      <th>Mood</th>
      <th>Notes</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% for mood in mood_records %}
    <tr>
      <td>{{ mood.user }}</td>
      <td>{{ mood.mood }}</td>
      <td>{{ mood.notes }}</td>
      <td>{{ mood.created_on|date:"M d, Y" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No mood records found.</td></tr>
    {% endfor %}
  </tbody>
</table>

<h2>Sleep History</h2>
<table class="table">
  <thead>
    <tr>
      <th>User</th>
      <th>Sleep Duration (hrs)</th>
      <th>Sleep Quality</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    {% for sleep in sleep_records %}
    <tr>
      <td>{{ sleep.user }}</td>
      <td>{{ sleep.sleep_duration }}</td>
      <td>{{ sleep.sleep_quality }}</td>
      <td>{{ sleep.date }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No sleep records found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
